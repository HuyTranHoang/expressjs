<main class="mt-3 container">
    <div class="row justify-content-center">
        <div class="col-6 bg-dark-subtle p-3 rounded">
            <h1>My products</h1>
            <p>List all my product</p>
            <hr>

            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Name</th>
                        <th scope="col">Price</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                <% products.forEach((product, index) => { %>
                    <tr class="product-item">
                        <th scope="row"><%= index + 1%></th>
                        <td><%= product.name %></td>
                        <td><%= product.price %></td>
                        <td>
                            <div>
                                <a href="/admin/product/<%= product.id %>/edit" class="link-warning me-3">
                                    <i class="fa-solid fa-pen"></i></a>
                                <button class="delete-product bg-white border-0 link-danger" data-id="<%= product.id %>">
                                    <i class="fa-solid fa-trash"></i></button>
                            </div>
                        </td>
                    </tr>
                <% }) %>
                </tbody>
            </table>
        </div>
    </div>
</main>

<% if (showAlert) { %>
    <script>
        /* global Swal */
        Swal.fire({
            icon: 'success',
            title: 'Success!',
            text: 'New product inserted',
            showConfirmButton: false,
            timer: 1500 // Close the alert after 1.5 seconds
        })
    </script>
<% } %>


<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script type="module" src="/js/shopScript.js"></script>